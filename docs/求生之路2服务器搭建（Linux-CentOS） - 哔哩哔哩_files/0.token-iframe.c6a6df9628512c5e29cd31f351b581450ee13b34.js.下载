(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(23).concat([function(e,t,n){"use strict";var r=n(30),o=n(37),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){var r=n(15);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},,,,function(e,t,n){e.exports=n(36)},function(e,t,n){"use strict";(function(t){var r=n(23),o=n(39),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t)&&(s=n(31)),s),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(i)})),e.exports=c}).call(this,n(14))},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(23),o=n(40),i=n(42),a=n(43),s=n(44),c=n(32),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(45);e.exports=function(e){return new Promise((function(t,f){var l=e.data,p=e.headers;r.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(e.url)||(d=new window.XDomainRequest,h="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var v=e.auth.username||"",g=e.auth.password||"";p.Authorization="Basic "+u(v+":"+g)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[h]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:e,request:d};o(t,f,r),d=null}},d.onerror=function(){f(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){f(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=n(46),w=(e.withCredentials||s(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;w&&(p[e.xsrfHeaderName]=w)}if("setRequestHeader"in d&&r.forEach(p,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),f(e),d=null)})),void 0===l&&(l=null),d.send(l)}))}},function(e,t,n){"use strict";var r=n(41);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return et})),n.d(t,"b",(function(){return tt}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}"function"==typeof SuppressedError&&SuppressedError;var a,s=!1;function c(){return!1===s&&(s="undefined"!=typeof window),s}var u=function(){if(c())return window}();function f(){if(c())return u.__biliMirror__=u.__biliMirror__||{},u.__biliMirror__}var l=c()&&(null===(a=document.getElementsByTagName("meta").spm_prefix)||void 0===a?void 0:a.content)||"0.0";function p(e,t,n,r){void 0===r&&(r=!1),e.addEventListener(t,n,r)}function d(){return Date.now()}var h=Object.prototype.toString;function m(e){return function(t){return h.call(t)==="[object ".concat(e,"]")}}var v={isNumber:m("Number"),isString:m("String"),isBoolean:m("Boolean"),isNull:m("Null"),isUndefined:m("Undefined"),isSymbol:m("Symbol"),isFunction:m("Function"),isObject:m("Object"),isArray:m("Array"),isProcess:m("process"),isWindow:m("Window")};function g(e,t){void 0===t&&(t=["chrome-extension"]);var n=(null==e?void 0:e.message)||(null==e?void 0:e.fileName)||"";if(!n)return!0;if((n=n.split("?")[0]).includes(location.hostname))return!0;if(!t.length)return!1;for(var r=!1,o=0;o<t.length;o++)if(n&&-1!==n.indexOf(t[o])||n&&-1!==t[o].indexOf(n)){r=!0;break}return r}function y(e){return Math.floor(10*Math.random()+1)>e}var w="1.4.22",b=w;function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E,S,T=2592e6,R="KV_CONFIG_SDK",N=function(){function e(e){var t=e.appKey,n=e.nscode;this.appKey=void 0,this.appKeyStorageName=void 0,this.appKey=t,this.appKeyStorageName=t+"_"+n,this.checkLocalStorage()}var t=e.prototype;return t.checkLocalStorage=function(){var t=e.getLocalStorage();if(t){for(var n in t){var r=(new Date).getTime();t[n].timestamp+t[n].expires<r&&delete t[n]}Object.keys(t).length>40&&Object.keys(t).sort((function(e,n){return t[e].lastUsed-t[n].lastUsed})).slice(40).forEach((function(e){delete t[e]})),e.setLocalStorage(t)}},t.getAppKey=function(){var t=e.getLocalStorage()||{};return t[this.appKeyStorageName]?(t[this.appKeyStorageName].lastUsed=(new Date).getTime(),e.setLocalStorage(t),t[this.appKeyStorageName]||{}):{}},t.setAppkey=function(t){var n=O({timestamp:(new Date).getTime(),lastUsed:(new Date).getTime()},t),r=e.getLocalStorage()||{};r[this.appKeyStorageName]=n,e.setLocalStorage(r)},e.getLocalStorage=function(){var e;try{(e=localStorage.getItem(R))&&(e=JSON.parse(e))}catch(t){console.error("从本地获取"+R+"的时候异常",t),e=void 0}return e},e.setLocalStorage=function(e){try{localStorage.setItem(R,JSON.stringify(e))}catch(e){!function(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}(e)?console.log("storage 更新失败",e):console.log("storage 超出浏览器限制",e)}},e}();function x(e,t,n){return new Promise((function(r,o){(function(e,t){return new Promise((function(n,r){var o=new XMLHttpRequest;function i(){if(o){var e,t,i=o.responseType,a=(e=o.getAllResponseHeaders().trim().split(/[\r\n]+/),t={},e.forEach((function(e){var n=e.split(": "),r=n.shift(),o=n.join(": ");r&&(t[r]=o)})),t);!o.status||o.status>=200&&o.status<=299?n({data:i&&"text"!==i?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:a}):r(new Error("Request Error: "+o.status+" "+o.statusText)),o=null}}if(o.open((null==t?void 0:t.method)||"GET",e,!0),o.timeout=(null==t?void 0:t.timeout)||2e3,o.responseType=(null==t?void 0:t.responseType)||"json",o.onreadystatechange=function(){o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))&&setTimeout(i)},o.onabort=function(){o&&(r(new Error("Request aborted: "+e)),o=null)},o.onerror=function(){r(new Error("Network Error: "+e)),o=null},o.ontimeout=function(){r(null!=t&&t.timeout?"Timeout exceeded: "+t.timeout:"Timeout exceeded"),o=null},o.withCredentials=(null==t?void 0:t.withCredentials)||!1,null!=t&&t.headers)for(var a in t.headers)o.setRequestHeader(a,t.headers[a]);o.send((null==t?void 0:t.data)||null)}))})(function(e,t,n){void 0===t&&(t={});var r=t?Object.keys(t).map((function(e){return e+"="+t[e]})).join("&"):"";return""+((null==n?void 0:n.baseURL)||window.location.protocol+"//"+"api.YmlsaWJpbGk=.com".split(".").map((function(e,t){return 1===t?window.atob(e):e})).join("."))+e+(r?"?"+r:"")}(e,t,n),{method:"GET"}).then((function(e){var t=e.data,n=void 0===t?{}:t;0===n.code?r(n):o(n)}),(function(e){o(e)})).catch((function(e){o(e)}))}))}function I(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}!function(e){e[e.NON_STRICT=0]="NON_STRICT",e[e.STRICT=1]="STRICT"}(E||(E={})),function(e){e.KEY="key",e.GROUP="group",e.APP="app"}(S||(S={}));var P=function(){function e(e){this.options={appKey:"",apiURL:"",nscode:0,expires:T,strict:E.STRICT},this.storage=void 0,this.fetchPromise=void 0,this.flattenValue={},this.nestedValue={};var t=e.appKey,n=e.expires;this.options=O({},this.options,e,{expires:Math.min(void 0===n?T:n,T)}),this.storage=new N({appKey:t,nscode:this.options.nscode});var r=this.storage.getAppKey(),o=r.versionId;this.updateValue(r.value||{}),(this.options.strict!==E.NON_STRICT||e.autoFetch)&&(this.fetchPromise=this.fetchAppKey(o))}var t=e.prototype;return t.getAll=function(){try{return Promise.resolve(this.getBase(S.APP))}catch(e){return Promise.reject(e)}},t.getGroup=function(e){try{return Promise.resolve(this.getBase(S.GROUP,e))}catch(e){return Promise.reject(e)}},t.get=function(e){try{return Promise.resolve(this.getBase(S.KEY,e))}catch(e){return Promise.reject(e)}},t.getBase=function(e,t){void 0===t&&(t="");try{var n=this,r=function(){if(e===S.APP)return n.nestedValue;if(e===S.GROUP)return n.nestedValue[t]||{};var r=t.split("."),o=r[0];return n.nestedValue[o]?n.nestedValue[o][r[1]]:""};if(n.options.strict===E.NON_STRICT)return Promise.resolve(r());if(!n.fetchPromise){var o=n.storage.getAppKey();n.fetchPromise=n.fetchAppKey(o.versionId)}return Promise.resolve(n.fetchPromise.then((function(){return r()})))}catch(e){return Promise.reject(e)}},t.fetchAppKey=function(e){try{var t=this,n=t.options,r=n.appKey,o=n.nscode,i=I((function(){return Promise.resolve(x("/x/kv-frontend/namespace/data",{appKey:r,versionId:e,nscode:o},{baseURL:t.options.apiURL})).then((function(e){var n=e.data;t.storage.setAppkey({value:n.data,versionId:n.versionId,appVersionId:n.appVersionId,nscode:o,appKey:t.options.appKey,expires:t.options.expires}),t.updateValue(n.data)}))}),(function(e){-304!==e.code&&console.error(e)}));return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},e.updateLocalAppKey=function(e){try{return Promise.resolve(I((function(){var t=e.appKey,n=e.appVersionId,r=e.apiBaseURL,o=N.getLocalStorage();if(o){var i=Object.keys(o).filter((function(e){return o[e].appKey===t&&o[e].appVersionId!==n})).map((function(e){return o[e]}));if(i.length)return Promise.resolve(x("/x/kv-frontend/app/batchupdates",{appKey:t,batches:JSON.stringify(i.map((function(e){return{appVersionId:e.appVersionId,nscode:e.nscode}})))},{baseURL:r})).then((function(e){var n=e.data,r=N.getLocalStorage()||{};n.forEach((function(e){var n=t+"_"+e.nscode;if(e.deleted)delete r[n];else if(e.updated){var o={timestamp:(new Date).getTime(),value:e.data,versionId:e.versionId,appVersionId:e.appVersionId,nscode:e.nscode,appKey:t};r[n]=O({},r[n]||{},o)}})),N.setLocalStorage(r)}))}}),(function(e){-304!==e.code&&console.error(e)})))}catch(e){return Promise.reject(e)}},t.updateValue=function(e){var t=this;this.flattenValue=e;var n={};Object.keys(this.flattenValue).forEach((function(e){var r=e.split("."),o=r[0],i=r[1];n[o]||(n[o]={}),n[o][i]=t.flattenValue[e]})),this.nestedValue=n},e}(),C=f(),L="333.1333",_=function(){function e(){this.origin="bili",this.module="common",this.config={},this._defaultConfigSDK=new P({appKey:L,strict:E.STRICT})}return e.prototype.fetchWhiteListConfig=function(e,t){var n=this;return new Promise((function(r,o){e.get(t).then((function(e){if(e){var t=JSON.parse(e);n.config.white=(null==t?void 0:t.white)||[],n.config["white-retry"]=(null==t?void 0:t.retry)||[],n.config["white-preformance-rate"]=t.performance?function(e){if(v.isNumber(e))return e>10?10:e<=0?1:e;if(v.isString(e)&&!isNaN(e)){var t=parseInt(e);return t>10?10:t<=0?1:t}return console.warn("mirror-kv-[performance] sampling rate error,pleace set 1-10"),1}(null==t?void 0:t.performance):1,r(t)}else o()})).catch((function(e){o(e)}))}))},e.prototype.getConfig=function(){var e=this;return new Promise((function(t){var n,r,o="bilimirror",i="whitelist",a=e.spmId||l;"333.1333"!==a?(e._configSDK&&a===(null===(r=null===(n=e._configSDK)||void 0===n?void 0:n.options)||void 0===r?void 0:r.appKey)||(delete e._configSDK,e._configSDK=new P({appKey:a,strict:E.STRICT})),e.fetchWhiteListConfig(e._configSDK,"".concat(o,".").concat(i)).then((function(){t()})).catch((function(n){e.fetchWhiteListConfig(e._defaultConfigSDK,"".concat(o,".").concat(i)).then((function(){t()})).catch((function(e){t(),console.warn("bilimirror获取白名单配置失败")}))}))):e.fetchWhiteListConfig(e._defaultConfigSDK,"".concat(o,".").concat(i)).then((function(){t()})).catch((function(e){t(),console.warn("bilimirror获取白名单配置失败")}))}))},e.prototype.bindOptions=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:return C.mirrorVersion=b,t=e.origin,n=e.module,r=e.spmId,o=e.pbOptions,a=e.pbOtherNameIns,(null==t?void 0:t.length)&&(this.origin=t),(null==n?void 0:n.length)&&(this.module=n),(null==r?void 0:r.length)&&(this.spmId=r),o&&(this.pbOptions=o),a&&(this.pbOtherNameIns=a),[4,this.getConfig()];case 1:return i.sent(),[2,Promise.resolve("ok")]}}))}))},e}(),j=c()?C.options||(C.options=new _):null;var A,k,D,U,B=-1,F=function(e){addEventListener("pageshow",(function(t){t.persisted&&(B=t.timeStamp,e(t))}),!0)},K=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},M=function(){var e=K();return e&&e.activationStart||0},V=function(e,t){var n=K(),r="navigate";return B>=0?r="back-forward-cache":n&&(document.prerendering||M()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},q=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},H=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},J=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},G=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},$=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},W=-1,X=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},z=function(e){"hidden"===document.visibilityState&&W>-1&&(W="visibilitychange"===e.type?e.timeStamp:0,Q())},Y=function(){addEventListener("visibilitychange",z,!0),addEventListener("prerenderingchange",z,!0)},Q=function(){removeEventListener("visibilitychange",z,!0),removeEventListener("prerenderingchange",z,!0)},Z=function(){return W<0&&(W=X(),Y(),F((function(){setTimeout((function(){W=X(),Y()}),0)}))),{get firstHiddenTime(){return W}}},ee=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},te=[1800,3e3],ne=function(e,t){t=t||{},ee((function(){var n,r=Z(),o=V("FCP"),i=q("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-M(),0),o.entries.push(e),n(!0)))}))}));i&&(n=H(e,o,te,t.reportAllChanges),F((function(r){o=V("FCP"),n=H(e,o,te,t.reportAllChanges),J((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))},re=[.1,.25],oe={passive:!0,capture:!0},ie=new Date,ae=function(e,t){A||(A=t,k=e,D=new Date,ue(removeEventListener),se())},se=function(){if(k>=0&&k<D-ie){var e={entryType:"first-input",name:A.type,target:A.target,cancelable:A.cancelable,startTime:A.timeStamp,processingStart:A.timeStamp+k};U.forEach((function(t){t(e)})),U=[]}},ce=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){ae(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,oe),removeEventListener("pointercancel",r,oe)};addEventListener("pointerup",n,oe),addEventListener("pointercancel",r,oe)}(t,e):ae(t,e)}},ue=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,ce,oe)}))},fe=[100,300],le=[2500,4e3],pe={},de=[800,1800],he=function(e,t){t=t||{};var n=V("TTFB"),r=H(e,n,de,t.reportAllChanges);!function e(t){document.prerendering?ee((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)}((function(){var o=K();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-M(),0),n.entries=[o],r(!0),F((function(){n=V("TTFB",0),(r=H(e,n,de,t.reportAllChanges))(!0)}))}}))},me=function(e){return!!c()&&function(){try{return c()&&PerformanceObserver?PerformanceObserver.supportedEntryTypes||[]:null}catch(e){console.error("bili-mirror: supportList 解析异常:",e)}}().includes(e)};var ve=null,ge=null,ye="BILI_MIRROR_REPORT_POOL",we=function(){function e(){this.timeID=null,this.func=null}return e.prototype.repeat=function(e,t){var n=this;null===this.func&&(this.func=e),this.func===e&&(this.timeID=setTimeout((function(){e(),n.repeat(e,t)}),t))},e.prototype.clear=function(){clearTimeout(this.timeID)},e}(),be=function(){try{var e=JSON.parse(localStorage.getItem(ye)||"{}");if(!Object.keys(e).length)return;Object.entries(e).forEach((function(e){var t=e[0],n=e[1];ve.tech(t,n)})),localStorage.setItem(ye,"{}")}catch(e){}},Oe=function(){ge||((ge=new we).repeat(be,3e5),p(u,"beforeunload",(function(){be(),Ee()})))},Ee=function(){ve&&ve.flush&&ve.flush(),ge.clear(),ge=null},Se="_BiliGreyResult",Te="//s1.hdslb.com/bfs/seed/jinkela/short/reporter-pb/index.js",Re=function(){if(!c())return{};if(!u[Se])return{};var e=u[Se],t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];t["".concat(Se,"_").concat(n)]=r})),t}(),Ne=[],xe=!1,Ie="",Pe=null;function Ce(){if(Ne.length&&!xe){xe=!0;var e=Ne.shift(),t=e[0],n=e[1],r=e[2],o=e[3];if("middleWare"===n){if(Pe)return xe=!1,ke(r,o),void Ce();t(!0).then((function(e){var t;xe=!1,ve!==(t=Pe=e)&&(ve=t),De(r,o),Ce()}))}else t().then((function(){xe=!1,n&&r&&n(r,o||void 0),Ce()}))}}var Le=function(e){(Ie?window[Ie]:window.__biliMirrorPbInstance__)[(e=Fe(e)).type](e.otherSpmId?"".concat(e.otherSpmId,".").concat(e.eventId):(null==j?void 0:j.spmId)?"".concat(null==j?void 0:j.spmId,".").concat(e.eventId):"".concat(l,".").concat(e.eventId),e.msg)},_e=function(e,t){t&&Object.keys(t).length>0&&Ue(t);var n;n=(e=Fe(e)).diyevent?e.eventId||e.event:"".concat(e.otherSpmId?e.otherSpmId:(null==j?void 0:j.spmId)?null==j?void 0:j.spmId:l,".").concat(e.eventId),(Ie?window[Ie]:window.__biliMirrorPbInstance__).tech(n,Object.assign(e.msg||{},{type:e.type||"custom"},r({mirrorVersion:w},Re)))},je=function(e){Ne.push([Be,Le,e]),Ce()},Ae=function(e,t){Ne.push([Be,_e,e,t]),Ce()},ke=function(e,t){!e.msg.message&&e.msg.msg&&(e.msg.message=e.msg.msg),Pe?De(e,t):(Ne.push([Be,"middleWare",e,t]),Ce())},De=function(e,t){t&&void 0!==(null==t?void 0:t.isBatch)||(t=Object.assign(t||{},{isBatch:!1}));var n=((null==t?void 0:t.spmId)||l)+"."+((null==t?void 0:t.origin)||(null==j?void 0:j.origin))+"."+((null==t?void 0:t.module)||(null==j?void 0:j.module));(null==t?void 0:t.isBatch)?function(e,t,n){var o,i=(null===(o=null==t?void 0:t.api)||void 0===o?void 0:o.split("?")[0])||"";try{var a=JSON.parse(localStorage.getItem(ye)||"{}");a[e]||(a[e]=r({},n)),a[e][i]?a[e][i]++:a[e][i]=1,localStorage.setItem(ye,JSON.stringify(a))}catch(e){}Oe()}(n+(t.eventId||".DATA.successReport"),e.msg,r({type:"custom",mirrorVersion:w},Re)):Pe.tech(n+(t.eventId||".ERROR.errorReport"),r(r({type:e.type||"custom",mirrorVersion:w},e.msg),Re))},Ue=function(e){void 0===e&&(e={feature:{tech:!0}}),window.__biliMirrorPbInstance__.options=Object.assign({feature:{tech:!0}},e)},Be=function(e){void 0===e&&(e=!1);try{return new Promise((function(t,n){if(c()||n("not support in server"),e){var o={feature:{tech:!0},autoPv:!1,batch:!1};if(window.ReporterPb){var i=new window.ReporterPb(r({},o));t(i)}else(s=document.createElement("script")).src=Te,document.getElementsByTagName("body")[0].appendChild(s),s.onload=function(){var e=new window.ReporterPb(r({},o));t(e)}}else{var a=(null==j?void 0:j.pbOtherNameIns)?null==j?void 0:j.pbOtherNameIns:"";if(v.isObject(window[a])&&Object.keys(window[a]).length)Ie=a,console.warn("Is using ".concat(a," to report,Please confirm open [tech] config")),t();else if(window.__biliMirrorPbInstance__)t();else{var s;(s=document.createElement("script")).src=Te,document.getElementsByTagName("body")[0].appendChild(s);var u={feature:{tech:!0}};s.onload=function(){window.__biliMirrorPbInstance__=new window.ReporterPb(r(r({},u),null==j?void 0:j.pbOptions)),t()}}}}))}catch(e){console.error("bili-mirror:load pb-report-Error load failed:",e)}};function Fe(e){return e.event&&!e.eventId&&(e.eventId=e.event),e.eventId.split(".").length<=1&&(e.eventId="".concat(null==j?void 0:j.origin,".").concat(null==j?void 0:j.module,".").concat(e.eventId)),"appear"===e.type&&(e.type="exposure"),e}function Ke(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var Me,Ve,qe,He,Je=Ke((function(e,t){e.exports=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],a=r.concat(o,i,["args"],["evalOrigin"]);function s(e){if(e)for(var n=0;n<a.length;n++)void 0!==e[a[n]]&&this["set"+t(a[n])](e[a[n]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},s.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),o=e.substring(t+1,n).split(","),i=e.substring(n+1);if(0===i.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),c=a[1],u=a[2],f=a[3];return new s({functionName:r,args:o||void 0,fileName:c,lineNumber:u||void 0,columnNumber:f||void 0})};for(var c=0;c<r.length;c++)s.prototype["get"+t(r[c])]=n(r[c]),s.prototype["set"+t(r[c])]=function(e){return function(t){this[e]=Boolean(t)}}(r[c]);for(var u=0;u<o.length;u++)s.prototype["get"+t(o[u])]=n(o[u]),s.prototype["set"+t(o[u])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[u]);for(var f=0;f<i.length;f++)s.prototype["get"+t(i[f])]=n(i[f]),s.prototype["set"+t(i[f])]=function(e){return function(t){this[e]=String(t)}}(i[f]);return s}()})),Ge=Ke((function(e,t){var n,r,o,i;e.exports=(n=Je,r=/(^|@)\S+:\d+/,o=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/,{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(o))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(o)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),r=t.match(/ (\(.+\)$)/);t=r?t.replace(r[0],""):t;var o=this.extractLocation(r?r[1]:t),i=r&&t||void 0,a=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new n({functionName:i,fileName:a,lineNumber:o[1],columnNumber:o[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(i)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new n({functionName:e});var t=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(t),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(e.replace(t,""));return new n({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=t.exec(r[i]);s&&o.push(new n({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=t.exec(r[i]);s&&o.push(new n({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(r)&&!e.match(/^Error created at/)}),this).map((function(e){var t,r=e.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(t=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===t||"[arguments not available]"===t?void 0:t.split(",");return new n({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})}),this)}})})),$e=[],We=function(e){var t,n=(t=(null==e?void 0:e.message)||(null==e?void 0:e.fileName),window.btoa(decodeURIComponent(encodeURIComponent(t))));return $e.some((function(e){return e===n}))?(console.warn("Duplicate error, not reported,".concat(null==e?void 0:e.message)),!1):($e.push(n),!0)},Xe={},ze={handleError:function(e){var t,n,a,s,c;return o(this,void 0,void 0,(function(){var u,f,l,p,h,m,v,y,w;return i(this,(function(b){switch(b.label){case 0:u=e.target,b.label=1;case 1:if(b.trys.push([1,4,,5]),(!u||e.target&&!e.target.localName)&&(f=function(e){var t,n=e.target;if(!n||e.target&&!(null===(t=e.target)||void 0===t?void 0:t.localName)){var r=Ge.parse(n?e.error:e)[0],o=r.fileName,i=r.columnNumber,a=r.lineNumber,s=r.source,c=s?JSON.stringify(s.split(" ").join("").split("./")):"";return{type:"error",time:d(),message:e.message,fileName:o,line:a,column:i,stack:c}}return null}(e),l=null===(n=null===(t=null==j?void 0:j.config)||void 0===t?void 0:t.white)||void 0===n?void 0:n.error,p=g(f,l),f&&!p)){if(!We(f))return[2];Ae({type:"error",eventId:"".concat(j.origin,".").concat(j.module,".ERROR.jsError"),msg:f},j.pbOptions||{})}return(null==u?void 0:u.localName)?(h=function(e){var t=e.target;if(null==t?void 0:t.localName){var n=function(e){return{time:d(),message:e.src||e.href||"",name:e.localName}}(t);return r(r({},n),{type:"resourceError"})}return null}(e),m=null===(s=null===(a=null==j?void 0:j.config)||void 0===a?void 0:a.white)||void 0===s?void 0:s.resource,v=g(h,m),!h||v?[3,3]:[4,(O=h,E=null===(c=null==j?void 0:j.config)||void 0===c?void 0:c["white-retry"],void 0===E&&(E=[]),o(void 0,void 0,void 0,(function(){return i(this,(function(e){return O.message?(void 0===Xe[O.name]&&(Xe[O.name]=2),Xe[O.name]>0?(Xe[O.name]--,g(O,E)?[2,Promise.resolve({retryResult:"whitelist"})]:[2,new Promise((function(e){(function(e,t){void 0===t&&(t=!0);var n=e.method.toLocaleUpperCase(),r="POST"===n?JSON.stringify(e.data):"",o="GET"===n?function(e){if(!Object.keys(e).length)return"";var t="";for(var n in e)t+="".concat(n,"=").concat(e[n],"&");return t.substring(0,t.length-1)}(e.data):"",i=o?-1!==e.url.indexOf("?")?"".concat(e.url,"&").concat(o):"".concat(e.url,"?").concat(o):e.url;return new Promise((function(o,a){var s=new XMLHttpRequest;if(s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE)if(200===s.status){var e=null;try{e=JSON.parse(s.responseText)}catch(t){e=s.responseText}o(e)}else{var t=s.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};t.forEach((function(e){var t=e.split(": "),r=t.shift(),o=t.join(": ");n[r]=o})),a({responseText:s.responseText,headers:n,status:s.status})}},s.withCredentials=t,s.open(n,i,!0),"POST"===n&&e.headers&&"object"==typeof e.headers)for(var c in e.headers)s.setRequestHeader(c,e.headers[c]);s.send(r)}))})({url:O.message,method:"GET",data:{},headers:{}},!1).then((function(){e({retryResult:"success"})})).catch((function(t){e(r({retryResult:"failed"},t))}))}))]):[2,Promise.resolve({retryResult:"skip"})]):[2,Promise.resolve({retryResult:"skip"})]}))})))]):[3,3];case 2:if(y=b.sent(),h=r(r({},h),y),!We(h))return[2];Ae({type:"error",eventId:"".concat(j.origin,".").concat(j.module,".ERROR.resourceError"),msg:r(r({},h),{error_type:"AssetsError",headless:""==navigator.language?"headless":"normal",webdriver:null===navigator||void 0===navigator?void 0:navigator.webdriver})},j.pbOptions||{}),b.label=3;case 3:return[3,5];case 4:return w=b.sent(),console.warn("bili-mirror: handleError-Error parsing failed:",w),[3,5];case 5:return[2]}var O,E}))}))},handleUnhandleRejection:function(e){var t,n;try{var r=function(e){var t,n=Ge.parse(e.reason)[0],r=n.fileName,o=n.columnNumber,i=n.lineNumber,a=n.source,s=a?JSON.stringify(a.split(" ").join("").split("./")):"";return{type:"rejectionError",time:d(),message:(t=e.reason.message||e.reason.stack,v.isString(t)?t:v.isUndefined(t)?"undefined":JSON.stringify(t)),fileName:r,line:i,column:o,stack:s}}(e),o=g(r,null===(n=null===(t=null==j?void 0:j.config)||void 0===t?void 0:t.white)||void 0===n?void 0:n.rejection);if(r&&!o){if(!We(r))return;Ae({type:"error",eventId:"".concat(j.origin,".").concat(j.module,".ERROR.rejectionError"),msg:r},j.pbOptions||{})}}catch(e){console.warn("bili-mirror: handleUnhandleRejection-Error parsing failed:",e)}},handlePerformance:function(){try{if(!PerformanceObserver||!(null===PerformanceObserver||void 0===PerformanceObserver?void 0:PerformanceObserver.supportedEntryTypes))return;if(y(j.config["white-preformance-rate"]))return;!function(e){/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)?(function(e){if(me("first-input")){var t=new PerformanceObserver((function(n){for(var r=0,o=n.getEntries();r<o.length;r++){var i=o[r];t.disconnect();var a=i.processingStart-i.startTime;e({name:"FID",value:a,rating:a<100?"good":a>100&&a<300?"normal":"poor"})}}));t.observe({type:"first-input",buffered:!0})}}((function(t){e(t)})),function(e){if(me("paint")){var t=new PerformanceObserver((function(n){for(var r=0,o=n.getEntries();r<o.length;r++){var i=o[r];"first-contentful-paint"===i.name&&(t.disconnect(),e({name:"FCP",value:i.startTime,rating:i.startTime<1600?"good":i.startTime>1600&&i.startTime<3e3?"normal":"poor"}))}}));t.observe({type:"paint",buffered:!0})}}((function(t){e(t)})),function(e){if(me("largest-contentful-paint")){var t=new PerformanceObserver((function(n){for(var r=0,o=n.getEntries();r<o.length;r++){var i=o[r];t.disconnect(),e({name:"LCP",value:i.startTime,rating:i.startTime<1600?"good":i.startTime>1600&&i.startTime<3e3?"normal":"poor"})}}));t.observe({type:"largest-contentful-paint",buffered:!0})}}((function(t){e(t)})),function(e){window.addEventListener("load",(function(){var t=window.performance.timing,n=t.responseStart-t.navigationStart;e({name:"TTFB",value:n,rating:n<200?"good":n>200&&n<500?"normal":"poor"})}))}((function(t){e(t)}))):(function(e,t){t=t||{},ee((function(){var n,r=Z(),o=V("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-M(),0),o.entries=[t],n())},a=q("largest-contentful-paint",i);if(a){n=H(e,o,le,t.reportAllChanges);var s=$((function(){pe[o.id]||(i(a.takeRecords()),a.disconnect(),pe[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,s,!0)})),G(s),F((function(r){o=V("LCP"),n=H(e,o,le,t.reportAllChanges),J((function(){o.value=performance.now()-r.timeStamp,pe[o.id]=!0,n(!0)}))}))}}))}((function(t){e(t)})),function(e,t){t=t||{},ee((function(){var n,r=Z(),o=V("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},a=function(e){e.forEach(i)},s=q("first-input",a);n=H(e,o,fe,t.reportAllChanges),s&&G($((function(){a(s.takeRecords()),s.disconnect()}))),s&&F((function(){var r;o=V("FID"),n=H(e,o,fe,t.reportAllChanges),U=[],k=-1,A=null,ue(addEventListener),r=i,U.push(r),se()}))}))}((function(t){e(t)})),function(e,t){t=t||{},ne($((function(){var n,r=V("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,n())},s=q("layout-shift",a);s&&(n=H(e,r,re,t.reportAllChanges),G((function(){a(s.takeRecords()),n(!0)})),F((function(){o=0,r=V("CLS",0),n=H(e,r,re,t.reportAllChanges),J((function(){return n()}))})),setTimeout(n,0))})))}((function(t){e(t)})),ne((function(t){e(t)})),he((function(t){e(t)})))}((function(e){var t=e.name,n=e.rating,r=e.value;!r||r<0||Ae({type:"performance",eventId:"".concat(j.origin,".").concat(j.module,".PERFORMANCE.").concat(e.name),msg:{name:t,rating:n,value:r}},j.pbOptions||{})}))}catch(e){console.warn("bili-mirror: performance-Error parsing failed:",e)}}};!function(e){e.ERROR="error",e.OK="ok"}(Me||(Me={})),function(e){e.ERROR="error",e.UNHANDLEDREJECTION="unhandledrejection",e.RESOURCE="resource",e.PERFORMANCE="performance",e.WHITESCREEN="whiteScreen"}(Ve||(Ve={})),function(e){e.BEFORE="mirrorHandlerBefore",e.AFTER="mirrorHandlerAfter"}(qe||(qe={})),function(e){e.AUTO="auto",e.DEFAULT="default"}(He||(He={}));var Ye,Qe=function(e){if(void 0===e&&(e={}),!y(5)){var t="".concat(j.origin,".").concat(j.module,".TECHPV.0.0");Ae({eventId:t,type:"custom",msg:r(r({},e),{isExclusive:"1"})})}},Ze=f(),et=function(e){je(e)},tt=function(e){Ae(e)};function nt(e){c()&&(Ze.isInited||(Ze.isInited=!0,Ze.mirrorInitMode||(Ze.mirrorInitMode=He.DEFAULT),function(e){return void 0===e&&(e={}),o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return c()?[4,j.bindOptions(e)]:[3,2];case 1:return[2,t.sent()];case 2:return[2]}}))}))}(e).then((function(){(function(e){if(c()&&(p(u,"error",(function(e){ze.handleError(e)}),!0),p(u,"unhandledrejection",(function(e){ze.handleUnhandleRejection(e)})),ze.handlePerformance(),null==e?void 0:e.whiteScreen))try{!function(e){if(!((null==u?void 0:u.screen.width)<=0||u.screen.height<=0)){var t=e.checkNum||3,n=e.maxLoop||9,r=e.elemArry||e.checkDom||["html","body","#app"],o=e.callback||function(){},i=f(),a=0,s=[],c=[];e.isSkeleton?"complete"!=document.readyState&&p():"complete"===document.readyState?p():u.addEventListener("load",p)}function l(t){var n=function(e){return e.id?"#"+e.id:e.className&&"string"==typeof e.className?"."+e.className.split(" ").filter((function(e){return!!e})).join("."):e.nodeName.toLowerCase()}(t);return e.isSkeleton&&(a?c.push(n):s.push(n)),-1!=r.indexOf(n)}function p(){for(var r=!0,f=1;f<=9;f+=2){var p=document.elementsFromPoint(u.innerWidth*f/10,u.innerHeight/2),h=document.elementsFromPoint(u.innerWidth/2,u.innerHeight*f/10);if(p.length>t)for(var m=0;m<p.length;m++)if(l(p[m])){r=!1;break}if(!r)break;if(r&&h.length>t&&5!=f)for(var v=0;v<h.length;v++)if(l(h[v])){r=!1;break}if(!r)break}if(r)d();else{if(e.isSkeleton){if(!a)return d();if(c.join()==s.join())return o({status:Me.ERROR})}i._loopTimer&&clearTimeout(i._loopTimer),i._loopTimer=null}o({status:r?Me.ERROR:Me.OK,loop:a}),a>=n&&Ae({type:"error",eventId:"".concat(j.origin,".").concat(j.module,".ERROR.whiteScreen")})}function d(){a>=n&&i._loopTimer?(clearTimeout(i._loopTimer),i._loopTimer=null):i._loopTimer=setTimeout((function(){a++,e.isSkeleton&&(c=[]),p()}),1e3)}}(e.whiteScreen)}catch(e){console.error("bili-mirror: whiteScreen错误解析异常:",e)}})(null==e?void 0:e.config),Qe()}))))}if(c()){window.__INITIAL_MIRROR__=nt;var rt=window.__MIRROR_CONFIG__,ot=null===(Ye=null==rt?void 0:rt.config)||void 0===Ye?void 0:Ye.isAutoInit;rt&&v.isObject(rt)&&ot&&(!Ze.mirrorInitMode&&(Ze.mirrorInitMode=He.AUTO),nt(rt))}}).call(this,n(1))},function(e,t,n){"use strict";var r=n(23),o=n(30),i=n(38),a=n(29);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(a);c.Axios=i,c.create=function(e){return s(r.merge(a,e))},c.Cancel=n(34),c.CancelToken=n(52),c.isCancel=n(33),c.all=function(e){return Promise.all(e)},c.spread=n(53),e.exports=c,e.exports.default=c},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(29),o=n(23),i=n(47),a=n(48);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,this.defaults,{method:"get"},e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=s},function(e,t,n){"use strict";var r=n(23);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(32);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(23);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)&&(t+="[]"),r.isArray(e)||(e=[e]),r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,n){"use strict";var r=n(23),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(23);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),i="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|a)||(s="=",a%1);i+=s.charAt(63&t>>8-a%1*8)){if((n=o.charCodeAt(a+=3/4))>255)throw new r;t=t<<8|n}return i}},function(e,t,n){"use strict";var r=n(23);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(23);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(23),o=n(49),i=n(33),a=n(29),s=n(50),c=n(51);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(23);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(34);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}}])]);