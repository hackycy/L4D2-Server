!function(e,t){if("function"==typeof define&&define.amd)define([],t);else if("undefined"!=typeof exports)t();else{t(),e.unknown={}}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t={};!function(t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0});var A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i={},o={},a={};Object.defineProperty(a,"__esModule",{value:!0});var r=!0,u=a.default=function(){return r&&(r="undefined"==typeof window),r};!function(e){var t=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.asyncCanUseAvif=e.canUseAvif=e.setAvif=void 0;var n,i=t(a);e.setAvif=function(e){n=e};e.canUseAvif=function(){return!(0,i.default)()&&(void 0!==n&&n)};e.asyncCanUseAvif=function(){return new Promise((function(t){if((0,i.default)())return t(!1);if((0,e.canUseAvif)())return t(!0);var n=new Image;n.onerror=function(){(0,e.setAvif)(!1),t(!1)},n.onload=function(){(0,e.setAvif)(!0),t(!0)},n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="}))}}(o);var f={};!function(e){var t=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.asyncCanUseWebP=e.canUseWebP=e.setWebp=void 0;var n,i=t(a);e.setWebp=function(e){n=e};e.canUseWebP=function(){var e,t,A,o;if((0,i.default)())return!1;if(void 0!==n)return n;try{if("undefined"!=typeof navigator&&/Firefox\/(\d+)/i.test(navigator.userAgent))return n=Number((null===(e=navigator.userAgent.match(/Firefox\/(\d+)/i))||void 0===e?void 0:e[1])||"0")>=65;var a=document.createElement("canvas");n=!!(null===(t=a.getContext)||void 0===t?void 0:t.call(a,"2d"))&&0===(null===(o=null===(A=a.toDataURL)||void 0===A?void 0:A.call(a,"image/webp"))||void 0===o?void 0:o.indexOf("data:image/webp"))}catch(e){n=!1}return n};e.asyncCanUseWebP=function(){return new Promise((function(t){if((0,i.default)())return t(!1);if((0,e.canUseWebP)())return t(!0);var n=new Image;n.onerror=function(){(0,e.setWebp)(!1),t(!1)},n.onload=function(){(0,e.setWebp)(!0),t(!0)},n.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="}))}}(f);var c={},l=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0});var d=l(a);c.default=function(){return!(0,d.default)()&&!!window.HTMLPictureElement},function(e){var t=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.autoDetectAll=e.autoDetect=e.canUseHtmlPictureElement=e.canUseWebP=e.setWebp=e.canUseAvif=e.setAvif=void 0;var n=o;Object.defineProperty(e,"canUseAvif",{enumerable:!0,get:function(){return n.canUseAvif}}),Object.defineProperty(e,"setAvif",{enumerable:!0,get:function(){return n.setAvif}});var i=f;Object.defineProperty(e,"canUseWebP",{enumerable:!0,get:function(){return i.canUseWebP}}),Object.defineProperty(e,"setWebp",{enumerable:!0,get:function(){return i.setWebp}});var a=t(c);e.canUseHtmlPictureElement=a.default;e.autoDetect=function(e){void 0===e&&(e=["webp"]);for(var t=0;t<e.length;t++){if("avif"===e[t]&&(0,n.canUseAvif)())return e[t];if("webp"===e[t]&&(0,i.canUseWebP)())return e[t]}return""};e.autoDetectAll=function(){return new Promise((function(e){Promise.all([(0,n.asyncCanUseAvif)(),(0,i.asyncCanUseWebP)()]).then((function(t){var n=t[0],A=t[1];e({avif:n,webp:A})}))}))}}(i);var s={},v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(e){return e?e.replace(/^http(s)?:/,""):""};var p={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isInt=e.isNum=void 0;e.isNum=function(e){return"number"==typeof e};e.isInt=function(t){return(0,e.isNum)(t)&&(0|t)===t}}(p);var b={};Object.defineProperty(b,"__esModule",{value:!0});var w=/\.(jpeg|jpg|png|webp|gif|avif)$/;b.default=function(e){var t;return(null===(t=e.match(w))||void 0===t?void 0:t[0])||null},function(e){var t=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.getBmgSrc=e.isSupportBmgFormat=void 0;var n=t(v),i=t(a),o=p,r=t(b);e.isSupportBmgFormat=function(e){return!!function(e){return!!/\/bfs\//.test(e)}(e)&&!!(0,r.default)(e)};var u=function(e){return"number"!=typeof e||isNaN(e)?0:Math.floor(e)||0};e.getBmgSrc=function(t,A){var a;if(void 0===A&&(A={c:!0}),!t||"string"!=typeof t)return"";if(!(0,e.isSupportBmgFormat)(t))return t;if(t.indexOf("@")>-1){if(A.cache)return t;t=t.split("@")[0]}t=t.replace("pre-","");var r=A.dpr||((0,i.default)()?2:Math.floor(null!==(a=null===window||void 0===window?void 0:window.devicePixelRatio)&&void 0!==a?a:2)||1),f=[];A.w&&(0,o.isInt)(A.w)&&f.push("".concat(Math.floor(A.w*r),"w")),A.h&&(0,o.isInt)(A.h)&&f.push("".concat(Math.floor(A.h*r),"h")),A.e&&f.push("".concat(A.e,"e")),A.c&&f.push("1c"),A.a&&f.push("".concat([u(A.a.x),u(A.a.y),u(A.a.w)*r,u(A.a.h)*r].join("-"),"a")),A.p&&(0,o.isInt)(A.p)&&f.push("".concat(A.p,"p")),A.s&&f.push("1s"),A.q&&(0,o.isInt)(A.q)&&f.push("".concat(A.q,"q")),A.style&&f.push("!".concat(A.style));var c="";return A.ext&&["webp","avif"].includes(A.ext)&&(c=A.ext),0!==f.length||c?"".concat((0,n.default)(t),"@").concat(f.join("_")).concat(c?".".concat(c):""):t}}(s);var g,y={};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}t.initWindowExtsState=void 0,t.getWindowExtsState=void 0,Object.defineProperty(y,"__esModule",{value:!0});var _="__BMG_TRACKER_COLLECT_QUEUE__",B="__BMG_TRACKER_COLLECT_EXTS__",h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==A?A:"undefined"!=typeof self?self:{},W={};Object.defineProperty(W,"__esModule",{value:!0});var E=!0,x=W.default=function(){return E&&(E="undefined"==typeof window),E},P={};Object.defineProperty(P,"__esModule",{value:!0});var U=/\.(jpeg|jpg|png|webp|gif|avif)$/,j=P.default=function(e){var t;return(null===(t=e.match(U))||void 0===t?void 0:t[0])||null},S={};!function(e){var t=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.asyncCanUseAvif=e.canUseAvif=e.setAvif=void 0;var n,A=t(W);e.setAvif=function(e){n=e},e.canUseAvif=function(){return!(0,A.default)()&&void 0!==n&&n},e.asyncCanUseAvif=function(){return new Promise((function(t){if((0,A.default)())return t(!1);if((0,e.canUseAvif)())return t(!0);var n=new Image;n.onerror=function(){(0,e.setAvif)(!1),t(!1)},n.onload=function(){(0,e.setAvif)(!0),t(!0)},n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="}))}}(S);var M={};!function(e){var t=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.asyncCanUseWebP=e.canUseWebP=e.setWebp=void 0;var n,A=t(W);e.setWebp=function(e){n=e},e.canUseWebP=function(){var e,t,i,o;if((0,A.default)())return!1;if(void 0!==n)return n;try{if("undefined"!=typeof navigator&&/Firefox\/(\d+)/i.test(navigator.userAgent))return n=Number((null===(e=navigator.userAgent.match(/Firefox\/(\d+)/i))||void 0===e?void 0:e[1])||"0")>=65;var a=document.createElement("canvas");n=!!(null===(t=a.getContext)||void 0===t?void 0:t.call(a,"2d"))&&0===(null===(o=null===(i=a.toDataURL)||void 0===i?void 0:i.call(a,"image/webp"))||void 0===o?void 0:o.indexOf("data:image/webp"))}catch(e){n=!1}return n},e.asyncCanUseWebP=function(){return new Promise((function(t){if((0,A.default)())return t(!1);if((0,e.canUseWebP)())return t(!0);var n=new Image;n.onerror=function(){(0,e.setWebp)(!1),t(!1)},n.onload=function(){(0,e.setWebp)(!0),t(!0)},n.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="}))}}(M);var D="BMG_EXTS",C=null,O=function(){if(C)return C;try{C=(localStorage.getItem(D)||"").split(",")}catch(e){console.warn(e),C=[]}return C},G=function(e){if(void 0===e&&(e=!1),!window[B]||e){var t=O();window[B]={avif:t.includes("avif"),webp:t.includes("webp")}}},I=function(e){return function(t){switch(function(){var e=[],t=window[B]||{avif:!1,webp:!1};t.avif&&e.push("avif"),t.webp&&e.push("webp");try{localStorage.setItem(D,e.join(","))}catch(e){console.warn(e)}}(),e){case"avif":S.setAvif(t);break;case"webp":M.setWebp(t)}}},Q=function(e){var t;"object"!=m(window[B])&&G(),(null===(t=window[B])||void 0===t?void 0:t[e])||(window[B][e]=!0,I(e)(!0))};y.collect=function(e,t,n){if(!x()){var A=x()?null:window.__BMG_TRACKER__||null,i=(j(e)||"").substring(1);if(["avif","webp"].indexOf(i)>-1&&Q(i),"onlyext"!==n)if(A)A.collect(e,t);else if("nocache"!==n){var o={src:e,type:t,ts:Date.now()/1e3|0};Array.isArray(window[_])?window[_].push(o):window[_]=[o]}}},y.getLocalExtsState=O,t.getWindowExtsState=y.getWindowExtsState=function(e){var t,n;return"avif"===e?(null===(t=window[B])||void 0===t?void 0:t.avif)||!1:"webp"===e?(null===(n=window[B])||void 0===n?void 0:n.webp)||!1:window[B]||null},t.initWindowExtsState=y.initWindowExtsState=G,y.updateExtState=I,g=y.updateWindowExtsState=Q;t.autoDetectAllExts=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise((function(A){var o=function(e){e.avif&&g("avif"),e.webp&&g("webp"),A(e)};if(u())o({avif:!1,webp:!1});else{if(e){var a=t.getWindowExtsState();if(a&&"object"===n(a))return void o({webp:a.webp||!1,avif:a.avif||!1})}if(t.initWindowExtsState(),t.getWindowExtsState("avif")||t.getWindowExtsState("webp"))return o(t.getWindowExtsState());i.autoDetectAll().then(o)}}))},t.getBmgSrcNext=function(e,n){var A="";return u()?s.getBmgSrc(e,n):(A=t.getWindowExtsState("avif")?"avif":t.getWindowExtsState("webp")?"webp":i.autoDetect(["avif","webp"]),s.getBmgSrc(e,Object.assign(Object.assign({},n),{ext:A})))}}(t);var n="onBmgDetectDone";t.autoDetectAllExts(!1).then((function(e){"function"==typeof window[n]&&window[n](e)}))}));
